(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{2795:function(t,e,o){"use strict";o.r(e);var r=o(0),n=(o(10),o(2)),c=o(48);function d(t){return new Promise(function(e){var o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],n={};t.forEach(function(t){var e=function(t){var e={date:"",code:""},n=new Date(t);switch(function(t){var e=Date.now(),o=new Date(Date.now()),r=new Date(t);return e-t<=864e5?"today":e-t<1728e5?"yesterday":Math.ceil((e-t)/864e5)<=o.getDay()?"this_week":Math.ceil((e-t)/864e5)>o.getDay()&&Math.ceil((e-t)/864e5)<=o.getDay()+7?"last_week":o.getFullYear()===r.getFullYear()?"this_year":"other"}(t)){case"today":e.date="Today",e.code="today";break;case"yesterday":e.date="Yesterday",e.code="yesterday";break;case"this_week":e.date=o[n.getDay()],e.code=e.date.toLowerCase();break;case"last_week":e.date="Last "+o[n.getDay()],e.code="last_"+e.date.toLowerCase();break;case"this_year":e.date=r[n.getMonth()];break;default:e.date="".concat(r[n.getMonth()]," ").concat(n.getFullYear())}return e}(1e3*t.timestamp);n[e.date]=n[e.date]||[],n[e.date].push(t)}),e(n)})}var l={name:"NewIconsPage",layout:"app",scrollToTop:!0,asyncData:function(t){t.app,t.params,t.store,t.redirect;return{icons:[],iconsByDate:{},error:void 0}},data:function(){return{subtitle:'Our community <a href="https://icons8.com/request-icon/">requests the icons</a>; we draw them daily. Hey, community, we love you! Maybe for your ideas, and maybe it\'s just the smell, and that you make us laugh.',icons:[],iconsByDate:{},page:1,isLoading:!1,allIconsLoaded:!1,activeGrid:void 0,parsedParams:void 0,fetchErrorsCount:0}},computed:Object(r.a)({},Object(n.e)({gridStyle:function(t){return t.ui.iconsGridStyle},platform:function(t){return t.platform},lang:function(t){return t.i18n.locale}}),{isScrollDisabled:function(){return this.isLoading||this.allIconsLoaded},formatName:function(){if(!this.parsedParams)return null;this.parsedParams.format;return"png"===this.parsedParams.format?" / PNG":"vector"===this.parsedParams.format?" / "+this.$t("ICON.ICONS.FORMAT_VECTOR"):null}}),mounted:function(){this.icons.length||this.fetchData(this.$route.params),this.checkError(),this.parsedParams=Object(c.a)("format",this.$route.params.platform)},methods:{description:function(t){var e=t.size;return this.$t("PLATFORMS.".concat(t.apiCode,".DESCRIPTION"),'<p>These icons are <a href="">pixel-perfect</a> at '.concat(e,"×").concat(e," pixels and are available in PNG, SVG, and PDF. Unlike other websites, Icons8 creates most of these icons in-house, ensuring the stable quality.</p>"))},title:function(t){return this.$t("PLATFORMS.".concat(t.apiCode,".NEW_ICONS"),"New Icons")},activateGrid:function(t){this.activeGrid=t},fetchData:function(t){var e=this;return new Promise(function(o){e.isLoading=!0,function(t){var e=t.app,o=t.params,n=t.store,l=t.redirect,h=Object(c.a)("format",o.platform);return new Promise(function(t){n.dispatch("setPlatform",h.$rootPath);var o=n.state.platform.apiCode;n.state.appInfo.platforms[o]&&"all"!==o?n.dispatch("latest").then(function(c){if(c.success){var l="all"===o?n.state.appInfo.iconsCount:n.state.appInfo.iconsCounts[o],h=e.$t("WEB_APP.SEO.LATEST.TITLE_DEFAULT",{count:l}),title=e.$t("WEB_APP.SEO.LATEST.TITLE_".concat(o.toUpperCase()),{count:l},h);n.dispatch("updateSEO",{title:title,description:e.$t("WEB_APP.SEO.LATEST.DESCRIPTION",{count:n.state.appInfo.iconsCount}),image:c.preview}),d(c.icons).then(function(e){t(Object(r.a)({},c,{iconsByDate:e}))})}else t({error:{message:c.message}})}).catch(function(e){console.log("error",e),t({icons:[],iconsByDate:{},error:{message:e.message}})}):l(301,encodeURI("/icons/new/"))})}({app:e,store:e.$store,params:t}).then(function(t){e.isLoading=!1,e.icons=t.icons,e.iconsByDate=t.iconsByDate,e.checkError(t.error),o()}).catch(function(t){e.isLoading=!1,console.log("error",t),e.checkError(t),o()})})},fetchNext:function(){var t=this;this.isLoading||(this.isLoading=!0,this.$store.dispatch("latest",{page:this.page+1}).then(function(e){t.page++,e.success&&e.icons.length?(e.icons.forEach(function(e){t.icons.push(e)}),d(t.icons).then(function(e){t.iconsByDate=e})):t.allIconsLoaded=!0,t.isLoading=!1}).catch(function(e){t.isLoading=!1,t.fetchErrorsCount++,3===t.fetchErrorsCount&&(t.allIconsLoaded=!0),console.error("page error",e&&e.message?e.message:e)}))},checkError:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.error)&&(console.log("this.error",this.error),this.error=void 0)}}},h=o(1),component=Object(h.a)(l,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"new-icons-page"},[o("grid-selector-wrap"),o("div",{staticClass:"app-page-section custom-padding"},[o("h1",{staticClass:"app-title no-wrap",domProps:{innerHTML:t._s(t.title(t.platform))}}),o("div",{staticClass:"breadcrumbs"},[o("nuxt-link",{staticClass:"item",attrs:{to:"/icons"}},[t._v(t._s(t.$t("ICON.ICONS.ICONS_LABEL")))]),t.formatName?o("span",{staticClass:"item",domProps:{innerHTML:t._s(t.formatName)}}):t._e(),o("span",{staticClass:"item"},[t._v(" / ")]),o("nuxt-link",{staticClass:"item",attrs:{to:"/icons/"+t.platform.seoCode}},[t._v(t._s(t.platform.title))])],1),o("div",{staticClass:"app-page-subtitle is-small is-left",domProps:{innerHTML:t._s(t.description(t.platform))}})]),o("div",{staticClass:"app-page-section custom-padding"},[o("app-native-ads",{attrs:{type:"horizontal"}}),o("app-ads")],1),o("div",{staticClass:"app-page-section custom-padding"},[o("page-scroll",{attrs:{"is-disabled":t.isScrollDisabled,"is-loading":t.isLoading},on:{fetch:t.fetchNext}},[t._l(t.iconsByDate,function(e,r){return[o("h6",{staticClass:"app-page-section-title"},[t._v(t._s(r))]),o("icon-grid",{attrs:{icons:e,"grid-style":t.gridStyle,action:"select",id:r,"active-grid":t.activeGrid},on:{activate:t.activateGrid}})]}),o("br")],2)],1)],1)},[],!1,null,null,null);e.default=component.exports}}]);